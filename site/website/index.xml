<?xml version="1.0" encoding="UTF-8"?>
<page>
	<content-type>/page/globalhome</content-type>
	<display-template>/templates/web/globalhome.ftl</display-template>
	<no-template-required/>
	<merge-strategy>inherit-levels</merge-strategy>
	<placeInNav>false</placeInNav>
	<file-name>index.xml</file-name>
	<internal-name>Home (Global)</internal-name>
	<orderDefault_f>-1</orderDefault_f>
	<objectGroupId>8d7f</objectGroupId>
	<objectId>8d7f21fa-5e09-00aa-8340-853b7db302da</objectId>
	<folder-name/>
	<createdDate>2017-1-31T16:18:14.000Z</createdDate>
	<createdDate_dt>2017-1-31T16:18:14.000Z</createdDate_dt>
	<lastModifiedDate>2021-02-04T23:12:18.187Z</lastModifiedDate>
	<lastModifiedDate_dt>2021-02-04T23:12:18.187Z</lastModifiedDate_dt>
	<title_t>Localization Example</title_t>
	<navLabel>GlobalHome</navLabel>
	<body_html>&lt;h2&gt;Steps to Set Up Localization&lt;/h2&gt;
&lt;h3&gt;Architecture Notes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Crafter has no native concept of translation
&lt;ul&gt;
&lt;li&gt;That doesn't mean that it cannot be built employed using standard design patterns&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;What does translation support mean?
&lt;ul&gt;
&lt;li&gt;Content must know its language&lt;/li&gt;
&lt;li&gt;Content must be able to identify its translations&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;This is ultimately done by linking the translations to the source
&lt;ul&gt;
&lt;li&gt;sometimes this is done by designating a particular language as the "source" and translations contain a reference to the source&lt;/li&gt;
&lt;li&gt;sometimes this is done by introducing a whole new identifier that is common to both the source and the translation(s)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Crafter's approach:
&lt;ul&gt;
&lt;li&gt;Place content in a folder corresponding to its locale&lt;/li&gt;
&lt;li&gt;Linkage between translations is defined by the path - two files in the same location but with different language folders are defined as translations of one another (or at least, dynamic localizations of one another)
&lt;ul&gt;
&lt;li&gt;e.g.
&lt;ul&gt;
&lt;li&gt;These two are translations:&amp;nbsp;
&lt;ul&gt;
&lt;li&gt;/site/website/&lt;strong&gt;en&lt;/strong&gt;/home/index.xml&lt;/li&gt;
&lt;li&gt;/site/website/&lt;strong&gt;en&lt;/strong&gt;/home/index.xml&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;So are these:
&lt;ul&gt;
&lt;li&gt;/site/website/&lt;strong&gt;en&lt;/strong&gt;/style/hats/index.xml&lt;/li&gt;
&lt;li&gt;/site/website/&lt;strong&gt;es&lt;/strong&gt;/style/hats/index.xml&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;But these are not:
&lt;ul&gt;
&lt;li&gt;/site/website/&lt;strong&gt;en&lt;/strong&gt;/style/&lt;strong&gt;hats&lt;/strong&gt;/index.xml&lt;/li&gt;
&lt;li&gt;/site/website/&lt;strong&gt;es&lt;/strong&gt;/style/&lt;strong&gt;argentinian-hats&lt;/strong&gt;/index.xml&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;How can this be used?
&lt;ul&gt;
&lt;li&gt;Two primary use cases
&lt;ul&gt;
&lt;li&gt;Content creation&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Content lookup&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Notes about the current implementation:
&lt;ul&gt;
&lt;li&gt;Only using a 2-letter locale code. We could have used the whole locale code instead.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Content Creation&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;As of now, no built-in tools to right-click and choose "translate this", so instead you have to manually create the translation by clicking "copy" on the source item, and then clicking "paste" where you would like the translation created (this is not bad)&lt;/li&gt;
&lt;li&gt;You have to then manually re-wire relationships in the copied content
&lt;ul&gt;
&lt;li&gt;e.g. if an article points to a related item, and a translation copy of the article is created, the translated article will keep pointing to the related item in the source language.&amp;nbsp; You will have to create the translation of the related item, and then manually re-link the translated article to the translated item.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Content Lookup&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Site Item Service has been taught how to fall back to a default language if the requested language is not found
&lt;ul&gt;
&lt;li&gt;Thus, if you request an item /site/website/jp/style/index.xml, but no such page exists, Crafter will automatically return /site/website/en/style/index.xml for you.&lt;/li&gt;
&lt;li&gt;The same applies when you look up a component - if you request a component by the path of a translation that does not exist, it will return the fallback language for you&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;This works for URLs as well
&lt;ul&gt;
&lt;li&gt;URLs are resolved to paths first, so the rules above apply&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;When calling renderComponent (in Freemarker), or when returning flattened nested components, no fallback is applied.
&lt;ul&gt;
&lt;li&gt;This could be what you want, or not, depending on your use case&lt;/li&gt;
&lt;li&gt;If you need to try to render a translation if found, you need to get the path of the nested component, manually change its path to the one you hope to retrieve and then render that component instead (either in freemarker or in react)&lt;/li&gt;
&lt;li&gt;If you are using react, don't request flattened objects if you plan to look up nested relationships&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Be aware that the default navigation builder and navigation services will return actual pages, not links to&amp;nbsp; pages that "hopefully" exist.&amp;nbsp;
&lt;ul&gt;
&lt;li&gt;You may have to manage your nav bar more explicitly in your code.&amp;nbsp;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&amp;nbsp;&lt;/h3&gt;
&lt;h3&gt;To Do&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix main nav to support URLs for pages that don't exist yet&lt;/li&gt;
&lt;li&gt;restrict access to folders based on editor's role&lt;/li&gt;
&lt;li&gt;reconfigure sidebar to show locale-specific homes&lt;/li&gt;
&lt;li&gt;update targeting system to cause Engine (and the SiteItemService) to load by locale&lt;/li&gt;
&lt;li&gt;Configure {locale} macro in the form controls when creating new components&lt;/li&gt;
&lt;li&gt;Maybe: page controller&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Done&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Move content into folders by locale (done)&lt;/li&gt;
&lt;li&gt;Update engine site config and add targeting block. Select merge. (done)&lt;/li&gt;
&lt;li&gt;Update left-rail to use locale in navigation (done)&lt;/li&gt;
&lt;li&gt;Handle old root page
&lt;ul&gt;
&lt;li&gt;create global home page content type&lt;/li&gt;
&lt;li&gt;create instance that welcomes users and lets them select their locale&lt;/li&gt;
&lt;li&gt;create template&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;br /&gt;&lt;/h3&gt;</body_html>
</page>